{"remainingRequest":"C:\\Project\\oauth2-server\\web-app\\node_modules\\thread-loader\\dist\\cjs.js??ref--10-2!C:\\Project\\oauth2-server\\web-app\\node_modules\\ts-loader\\index.js??ref--10-3!C:\\Project\\oauth2-server\\web-app\\node_modules\\angular-router-loader\\src\\index.js!C:\\Project\\oauth2-server\\web-app\\node_modules\\tslint-loader\\index.js!C:\\Project\\oauth2-server\\web-app\\src\\app\\urlPermission\\url.permission.ts","dependencies":[{"path":"C:\\Project\\oauth2-server\\web-app\\src\\app\\urlPermission\\url.permission.ts","mtime":1536257362677},{"path":"C:\\Project\\oauth2-server\\web-app\\node_modules\\angular2-template-loader\\index.js","mtime":1486570058000},{"path":"C:\\Project\\oauth2-server\\web-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1536167841040},{"path":"C:\\Project\\oauth2-server\\web-app\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Project\\oauth2-server\\web-app\\node_modules\\ts-loader\\index.js","mtime":1530127508000},{"path":"C:\\Project\\oauth2-server\\web-app\\node_modules\\angular-router-loader\\src\\index.js","mtime":1512749902000},{"path":"C:\\Project\\oauth2-server\\web-app\\node_modules\\tslint-loader\\index.js","mtime":1519899048000}],"contextDependencies":[],"result":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar core_1 = require(\"@angular/core\");\r\nvar router_1 = require(\"@angular/router\");\r\nvar UrlPermission = /** @class */ (function () {\r\n    function UrlPermission(router) {\r\n        this.router = router;\r\n    }\r\n    UrlPermission.prototype.canActivate = function (route, state) {\r\n        if (localStorage.getItem('currentUser')) {\r\n            // logged in so return true\r\n            return true;\r\n        }\r\n        // not logged in so redirect to login page with the return url\r\n        this.router.navigate(['/login'], { queryParams: { returnUrl: state.url } });\r\n        return false;\r\n    };\r\n    var _a;\r\n    UrlPermission = tslib_1.__decorate([\r\n        core_1.Injectable(),\r\n        tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof router_1.Router !== \"undefined\" && router_1.Router) === \"function\" && _a || Object])\r\n    ], UrlPermission);\r\n    return UrlPermission;\r\n}());\r\nexports.UrlPermission = UrlPermission;\r\n",{"version":3,"file":"C:\\Project\\oauth2-server\\web-app\\src\\app\\urlPermission\\url.permission.ts","sourceRoot":"","sources":["C:\\Project\\oauth2-server\\web-app\\node_modules\\angular-router-loader\\src\\index.js!C:\\Project\\oauth2-server\\web-app\\node_modules\\tslint-loader\\index.js!C:\\Project\\oauth2-server\\web-app\\src\\app\\urlPermission\\url.permission.ts"],"names":[],"mappings":";;;AAAA,sCAA2C;AAC3C,0CAAmG;AAGnG;IAEI,uBAAoB,MAAc;QAAd,WAAM,GAAN,MAAM,CAAQ;IAAI,CAAC;IAEvC,mCAAW,GAAX,UAAY,KAA6B,EAAE,KAA0B;QACjE,IAAI,YAAY,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE;YACrC,2BAA2B;YAC3B,OAAO,IAAI,CAAC;SACf;QAED,8DAA8D;QAC9D,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,EAAE,EAAE,WAAW,EAAE,EAAE,SAAS,EAAE,KAAK,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;QAC5E,OAAO,KAAK,CAAC;IACjB,CAAC;;IAbQ,aAAa;QADzB,iBAAU,EAAE;qEAGmB,eAAM,oBAAN,eAAM;OAFzB,aAAa,CAczB;IAAD,oBAAC;CAAA,AAdD,IAcC;AAdY,sCAAa","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\r\n\r\n@Injectable()\r\nexport class UrlPermission implements CanActivate {\r\n\r\n    constructor(private router: Router) { }\r\n\r\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n        if (localStorage.getItem('currentUser')) {\r\n            // logged in so return true\r\n            return true;\r\n        }\r\n\r\n        // not logged in so redirect to login page with the return url\r\n        this.router.navigate(['/login'], { queryParams: { returnUrl: state.url } });\r\n        return false;\r\n    }\r\n}"]}]}